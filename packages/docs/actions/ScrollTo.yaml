# Copyright 2020-2021 Lowdefy, Inc

# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at

#     http://www.apache.org/licenses/LICENSE-2.0

# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

_ref:
  path: templates/general.yaml.njk
  vars:
    pageId: ScrollTo
    pageTitle: ScrollTo
    section: Actions
    content:
      - id: markdown
        type: Markdown
        style:
          '.markdown-body':
            fontSize: 14px
        properties:
          content: |
            The `ScrollTo` action is used to scroll the users browser. It is often used to scroll back to the top
            of a long form after resetting the form, or to scroll the user to the top of a page after linking to a new page.

            The `ScrollTo` action has two modes - scrolling to a block and scrolling to x and y coordinates on a page.

            > When scrolling to a block, `ScrollTo` implements [`Element.scrollIntoView()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView), while
            when scrolling to coordinates, it implements [`Window.scrollTo()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollTo).

            ### Parameters in scroll to block mode
            - `blockId`: _String_ - The blockId of a block to scroll to.
            - `options`: _Object_
              - `behavior`: _Enum_ - Defines the transition animation. One of `auto` or `smooth`. Defaults to `auto`.
              - `block`: _Enum_ - Defines vertical alignment. One of `start`, `center`, `end`, or `nearest`. Defaults to `start`.
              - `inline`: _Enum_ - Defines horizontal alignment. One of `start`, `center`, `end`, or `nearest`. Defaults to `nearest`.

            ### Parameters in scroll to coordinates mode
            - `top`: _Number_ - Specifies the number of pixels along the Y axis to scroll the window.
            - `left`: _Number_ - Specifies the number of pixels along the X axis to scroll the window.
            - `behavior`: _Enum_ - Defines the transition animation. One of `auto` or `smooth`.


            ### Examples

            Scroll to a block:
            ```
            - id: scroll_to_block
              type: ScrollTo
              params:
                blockId: my_block
            ```

            Scroll to the top of the page:
            ```
            - id: scroll_to_top
              type: ScrollTo
              params:
                top: 0
            ```

            Scroll to the top of the page after linking from a previous page:
            ```
            - id: link_button
              type: Button
              actions:
                onClick:
                  - id: link_
                    type: Link
                    params:
                      pageId: next_page
                  - id: scroll_to_top
                    type: ScrollTo
                    params:
                      top: 0
            ```

            Scroll to the centre of a block:
            ```
            - id: scroll_to_block
              type: ScrollTo
              params:
                blockId: my_block
                block: center
                inline: center
            ```
